# Nutrai API
This project contains a Go Restful API that helps users manage their diet plans. The diet plan is generated by an AI.

# Table of Contents
- [Requirements](#requirements)
- [Initial Setup](#initial-setup)
- [How to run](#how-to-run)
- [Tests](#tests)
- [Makefile](#makefile)

## Requirements
- [Go 1.20](https://golang.org/doc/install)
- [Docker](https://docs.docker.com/install/)
- [Make](https://www.gnu.org/software/make/)
- [Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)

## Initial Setup
1. Clone the repository
```sh
git clone https://github.com/christian-gama/nutrai-api.git
```

2. Initialize the project
```sh
make init
```

## How to run
Run locally:
```sh
make run ENV_FILE=<.env.dev|.env.prod>
```

Run with Docker:
```sh
make docker-run ENV_FILE=<.env.dev|.env.prod>
```

## Tests
Tests that contains database connection will automatically migrate the database schema before running the tests.

Run all tests:
```sh
make test
```

Run unit tests:
```sh
make test-unit
```

Run integration tests:
```sh
make test-integration
```

## Makefile
The Makefile contains all the commands needed to run the project, tests and build the docker image. Please read the [Makefile](Makefile) for more details.